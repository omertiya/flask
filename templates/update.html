{% extends 'base.html' %}

{% block content %}

<h2>update user</h2>

{% for message in get_flashed_messages() %}

<div class="alert alert-success alert-dismissible fade show" role="alert">
    {{ message }}.
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>



{% endfor %}
<h1>user form</h1>

{% if user_id == current_user.id %}

<form action="{{url_for('update',id=name_to_update.id)}}" method="post">
    {{form.hidden_tag()}}


    {{form.user_name.label(class='form-label')}}
    {{form.user_name(class='form-control',placeholder='jone2020',value=name_to_update.user_name)}}
    <br>
    {{form.name.label(class='form-label')}}
    {{form.name(class='form-control',placeholder='jone',value=name_to_update.name)}}

    <br>
    {{form.email.label(class='form-label')}}
    {{form.email(class='form-control',placeholder='jone@jone.com',value=name_to_update.email)}}
    <br>
    {{form.favorite_color.label(class='form-label')}}
    {{form.favorite_color(class='form-control',value=name_to_update.favorite_color)}}
    <br>
    {{form.about_author.label(class='form-label')}}
    {{form.about_author(class='form-control',value=name_to_update.favorite_color)}}
    <br>
    {{form.password.label(class='form-label')}}
    {{form.password(class='form-control')}}
    <br>
    {{form.password_2.label(class='form-label')}}
    {{form.password_2(class='form-control')}}

    <br><br>
    {{form.submit(class='btn btn-primary')}} <a href="{{url_for('delete',id=user_id)}}"
        class="btn btn-danger">delete</a>
</form>
{% else %}
<h3>Access Denied !</h3>
<p>you cant update this user !!!</p>

{% endif %}




{% endblock %}